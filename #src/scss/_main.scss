// header
#header{
  .login{
    position: relative;
    display: none;
    background: url('../images/user.png') no-repeat;
    background-position: 10px 9px;
    margin: 16px 5px 0 10px;
    float: left;
    width: 41px;
    height: 41px;
    line-height: 35px;
    border-radius: 50%;
    text-align: center;
    color: #fff;
    font-weight: 300;
    font-size: 14px;
    background-color: #c8c8c8;
    cursor: pointer;
    &:hover{
      background-color: $mainColor;
    }
    #lsp-block-userinfo--popup{
      display: none;
      position: absolute;
      top: 60px;
      left: -114px;
      text-align: justify;
      background-color: #fff;
      padding: 10px;
      border: 1px solid red;
    }

  }
  .header_menu{
    .user_auth{
      #lsp-block-userinfo--header{
        height: 35px;
        display: flex;
        align-items: center;
        align-content: center;
        .lsp-block-userinfo-inner{
          display: flex;
          align-items: center;
          align-content: center;
          .lsp-block-userinfo-appeal{
            display: none;
          }
          & :first-child + a {
            display: inline-flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            //width: 30px;
            //height: 30px;
            //line-height: 30px;
            //margin-right: 30px;
            //padding-left: 30px;
            &::before{
              content: '';
              width: 30px;
              height: 30px;
              display: block;
              background: url(http://sdobnoe-mesto.ru/bitrix/templates/studiofact_getfood/images/sprite.png) no-repeat;
              background-position: 0 0;
            }
            &:hover::before{
              background-position: -26px 0 ;
            }
          }
          a{
            margin: 0 0 0 33px;
            text-decoration: none;
            :hover{
              &::before{
              display: none !important;
              }
            }
          }

        }
      }
    }
  }
}

.header{
  #search{
    .search--popup{
      display: none;

      .search-open--popup{

        margin: 0 10px;
        padding: 0;
        border: 1px solid #c8c8c8;
        position: relative;
        float: left;
        width: 40px;
        height: 40px;
        line-height: 36px;
        border-radius: 50%;
        text-align: center;
        color: #fff;
        font-weight: 300;
        font-size: 14px;
        background-color: $whiteColor;
        cursor: pointer;
        &:hover{
          border-color: $mainColor;
          svg{
            color: $mainColor;
          }
        }
      }
      #jstore-block-search--popup{

        z-index: -1;
        width: 100%;
        position: fixed;
        top: 70px;
        opacity: 0;
        visibility: hidden;
        transition: top .2s linear;
        left: 0;
        .jstore-block-search-inner{
          margin: 0;
          .jstore-js-search-form{
            .label-row-field-search{
              padding: 0;
              input{
                border-radius: 0;
              }
            }
          }
        }
      }
      &:hover{

        svg{
          color: $mainColor;
        }
      }
      svg{
        color: #c8c8c8;
        font-size: 20px;
      }
      #jstore-block-search--desktop{
        display: none;
      }
    }
  }
  .jstore-block-search{
    .jstore-block-search-inner{
      border: 0;
      padding: 0;
      form.jstore-js-search-form{
        position: relative;
        .lsp-block-userinfo-appeal{
          display: none;
        }
        label.label-row{
          margin: 0;
          input{
            height: 40px;
            padding: 9px 50px 9px 16px;
            font-size: 12px;
            line-height: 20px;
            font-weight: 300;
            width: 100%;
            vertical-align: middle;
            float: left;
            background: #fff;
            color: #333;
            border-radius: 25px;
            border: 1px solid #e0e2e5;
          }
        }
        .lsp-block-search-order-button-cont{
          height: 30px;
          width: 28px;
          position: absolute;
          top: 7px;
          right: 20px;
          margin: 0;
          input{
            background: url('http://sdobnoe-mesto.ru/bitrix/templates/studiofact_getfood/images/sprite.png') no-repeat;
            height: 30px;
            background-position: -55px top;
            width: 28px;
            transition: none;
            color:$transparent;
            &:hover{
              background-position: -100px top;
            }
          }
        }
      }
    }
  }
  #small_basket_box{
    position: relative;
    display: flex;
    align-content: center;
    align-items: center;
    padding: 17px 45px 18px 0;
    margin: 0 4px 0 0;
    cursor: pointer;
    .lsp-block-cart-open--drop{
      width: 100%;
      height: 100%;
      z-index: 2;
      position: absolute;
    }

    &:hover{
      background: $btnHoverColor;
      #lsp-block-cart--header{
        background-color: $thirdGrayColor;
        .jstore-js-cart-total-count{
          background-color: $mainColor !important;
        }
      }

    }
    &::before{
      content: "";
      top: 23px;
      width: 1px;
      height: 27px;
      background: #ededed;
      position: absolute;
      left: 0;
    }
    &::after{
      content: 'корзина';
      text-transform: uppercase;
      font-weight: 800;
      font-size: 16px;
      width: 113px;
      text-align: right;
    }
    #lsp-block-cart--header{
      padding: 0 0 0 60px;
      position: static;
      width: 40px;
      height: 40px;
      .lsp-block-cart-inner{
        padding: 0;
        margin: 0;
        border: 0;
        .lsp-info-message-bottom,
        .lsp-cart-items-list{
          display: none;
        }
        .lsp-info-message{
          font-size: 0;
          margin: 0;
          padding: 0;
          a{
            display: none;
          }
          .jstore-js-cart-total-count{
            position: absolute;
            top: 23%;
            left: 13%;
            width: 41px;
            height: 41px;
            line-height: 40px;
            border-radius: 50%;
            text-align: center;
            color: #fff;
            font-weight: 300;
            font-size: 18px;
            background: #c8c8c8;
          }
          .lsp-block-cart-total-name{
            display: none;
          }
        }

      }
    }
    #lsp-block-cart--drop {
      display: none;
      position: absolute;
      top: 74px;
      right: -3px;
      width: 270px;
      overflow: auto;
      height: auto;
      z-index: 5;
      background: #fff;
      border: 1px solid $mainColor;
      .lsp-block-cart-inner{
        border: 0;
        .lsp-info-message{
          color: $textColor;
          a,span{
            color: $textColor
          }
        }
        margin: 0;
        .lsp-cart-items-list{
          .lsp-block-cart-item{
            .lsp-block-cart-item-row{
              margin-bottom: 5px;
            }
          }
        }
      }
    }
  }

}

// Sidebar

#jstore-css .content-left-side{
  flex: 0 0 220px;
  order: 1;
  .lsp-block-item{
    .lsp-block-item-image{
      display: flex;
      align-self: center;
    }
    .lsp-block-item-description{
      height: auto;
      max-height: 75px;
      margin-bottom: 10px;
    }
    .lsp-block-item-price{
      position: static;
      display: flex;
      align-self: flex-start;
      justify-content: flex-end;
      align-items: center;
      order: 4;
      .lsp-block-item-measurement{
        padding-left: 3px;
        font-size: 18px;
      }
    }
    .lsp-block-item-add-to-cart{
      order: 5;
      position: absolute;
      bottom: 6px;
      right: 0;
      align-self: flex-end;
      width: auto;
    }
  }
  .jstore-block-search{
    padding: 16px 10px 18px 18px;
    margin: 0 0 24px 0;
    border: 1px solid #efefef;
    background: #fff;
    border-radius: 8px;
    .jstore-block-search-inner{
      border: 0;
      padding: 0;
      .lsp-block-userinfo-appeal{
        text-transform: uppercase;
        font-weight: 800;
      }
      .jstore-search-input{
        height: 30px;
        font-weight: 800;
        padding: 9px 50px 9px 16px;
        border-radius: 25px;
      }
    }
  }

  .lsp-block-terminalinfo{
    padding: 16px 10px 18px 18px;
    margin: 0 0 24px 0;
    border: 1px solid #efefef;
    background: #fff;
    border-radius: 8px;
    .lsp-block-restinfo-inner{
      border: 0;
      padding: 0;
      margin: 0;
      .city-terminal-c{
        text-transform: uppercase;
        font-weight: 800;
        a.cityName{
          display: block;
          padding: 15px 0;
        }
      }
    }
  }

  #lsp-block-userinfo{
    padding: 16px 10px 18px 18px;
    margin: 0 0 24px 0;
    border: 1px solid #efefef;
    background: #fff;
    border-radius: 8px;
    .lsp-block-userinfo-inner{
      border: 0;
      padding: 0;
      .lsp-block-userinfo-appeal{
        text-transform: uppercase;
        font-weight: 800;
        margin-bottom: 15px;
        width: 100%;

      }
    }
  }
  .nav-menu{
    .all-menu{
      padding: 16px 10px 18px 18px;
      border: 1px solid #ededed;
      font-size: 18px;
      font-style: italic;
      text-transform: none;
      line-height: 23px;
      background-color: $whiteColor;
    }
  }
  .lsp-block-cart-wrapper{
    border-radius: 8px;
    #lsp-block-cart{
      padding: 16px 10px 18px 18px;
      margin: 0 0 24px 0;
      border: 1px solid #efefef;
      background-color: #fff;

      .lsp-block-cart-inner{
        border: 0;
        padding: 0;
        margin: 0;
        min-height: 46px;
        .lsp-info-message{
          background-color: $whiteColor;
          border-left: 2px solid $mainColor;
          font-weight: 800;
          color: $textColor;
          margin: 0;
          padding: 15px 0 15px 10px;
          a{
            font-weight: 800;
            color: $textColor;
            text-transform: uppercase;
          }
          span{
            font-weight: 800;
            color: $textColor;
          }
        }
        .lsp-block-cart-item{
          margin: 0 0 10px 5px;
          padding: 5px 0 4px 3px;
          font-weight: 400;
          border-bottom: solid 2px $grayColor;
          border-left: solid 2px $grayColor;
          .lsp-block-cart-item-name{
            font-weight: 400;
          }
          .lsp-block-cart-item-row-subname{
            margin-top: 15px;

            .lsp-block-cart-item-amount-c-count,
            .lap-block-cart-item-amount-c-type,
            .lsp-block-cart-item-price-c em{
              color: $mainColor;
            }
          }
        }
        .lsp-info-message-bottom{
          border-left: solid 2px $mainColor;
          padding: 5px 0;
          margin:0;
          width: 100%;
          .jstore-cart-total,
          & span{
            color: $textColor;
            font-weight: 800;
          }
        }
      }
    }
  }


  #lsp-block-recommendation {
    text-align: center;
    overflow: auto;
    padding: 0;
    margin: 0 0 24px 0;
    background: #ffffff;
    border-radius: 8px;
    .lsp-title{
      font-style: normal;
      background-color: $whiteColor;
      margin: 0 0 0 0;
      padding: 16px 10px 18px 18px;
      text-align: left;
      font-size: 16px !important;
      line-height: 1.25;
      text-transform: uppercase;
      border-top: 1px solid #efefef;
      border-left: 1px solid #efefef;
      border-right: 1px solid #efefef;
    }
    .lsp-js-recommendation-items{
      background-color: $whiteColor;
      overflow: auto;
      padding: 0 10px 18px 18px;
      border-bottom: 1px solid #efefef;
      border-left: 1px solid #efefef;
      border-right: 1px solid #efefef;
      .lsp-block-item{
        border: 0;
        padding: 10px -0px;
        background-color: $whiteColor;
        .lsp-block-item-image-link{
          display: flex;
          justify-content: center;
          align-items: center;
        }
      }
    }
  }
  #lsp-block-gift{
    display: flex;
    flex: 0 1 100%;

    .lsp-block-gift-inner{
      padding: 16px 10px 18px 18px;
      border: 1px solid #efefef;
      margin: 0;
      border-radius: 8px;
      background: #ffffff;
      width: 100%;
      .lsp-block-gift-title{
        margin: 0 0 10px 0;
      }
    }
  }
  #lsp-block-happy-hour{
    display: flex;
    flex: 0 1 100%;

    .lsp-block-hh-inner{
      padding: 16px 10px 18px 18px;
      margin: 0 0 24px 0;
      border: 1px solid #efefef;
      background: #ffffff;
      border-radius: 8px;
      width: 100%;
    }
  }
  .nav-menu,
  .lsp-block-recommendation-wrapper,
  .lsp-block-happy-hour-wrapper,
  .lsp-block-gift-wrapper,
  .lsp-block-cart-wrapper{
    margin-top: 10px;
    position: relative;
    overflow: hidden;
  }
  .menu-more,
  .recommendation-more,
  .happy-hour-more,
  .lsp-block-gift-more,
  .cart-more,
  .cart-to-order{
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    cursor: pointer;
    display: none;
    position: absolute;
    height: auto;
    align-items: center;
    justify-content: center;
    top: 0;
    right: 0;
    color: $textColor;
    z-index: 3;
    background-color: $btnColor;
    padding: 12px;
    font-size: 18px;
    text-transform: uppercase;
    margin-left: auto;
    transition: all .25s;
    &:hover{
      background-color: $mainColor;
      color: $whiteColor;
    }
  }

}

// nav-button-accordeon

.open {
  display: block !important;
}
.open--search{
  opacity: 1 !important;
  visibility: visible !important;
  top: 110px !important;
  z-index: 1;
}

//end accordeon


#jstore-css .content-left-side .lsp-block-item{
  display: flex;
  flex: 0 1 auto;
  flex-direction:column;
  margin: 0 0 10px 0;
  width: 100%;
  height: auto;

}
//  Content

.content-right-side{
  flex: 1 1 auto;
  width: 100%;
  padding: 0 0 0 10px;
  order: 2;
  #lsp-block-content{
    .lsp-block-register,
    .lsp-block-auth,
    .lsp-block-cartpage-inner,
    .order-page{
      padding: 16px 10px 18px 18px;
      border: 1px solid #efefef;
      background: #fff;
      border-radius: 8px;
    }
    .lsp-block-content--preloader{
      color: $textColor;
      line-height: 40px;
    }
    .jstore-page-category-search{
      & > .h1{
        padding: 16px 10px 0 18px;
        border-left: 1px solid #efefef;
        border-right: 1px solid #efefef;
        border-top: 1px solid #efefef;
        background: #fff;
        border-radius: 8px 8px 0 0;
      }
      .jstore-block-search-inner{
        padding: 18px 10px 18px 18px;
        border-left: 1px solid #efefef;
        border-right: 1px solid #efefef;
        border-bottom: 1px solid #efefef;
        border-top: 0;
        background: #fff;
        border-radius: 0 0 8px 8px;
      }
    }
  }
}
//  Navigation

.nav-menu{
  width: 100%;
  border-radius: 12px;
}

a.all-menu{
  border-radius: 12px 12px 0 0;
  width: 100%;
  background-color: $btnColor;
  font-family: $mainFont;
  text-transform: uppercase;
  font-weight: 600;
  font-size: 14px;
  padding: 18px 30px 13px 30px;
  color: $textColor;
}

#jstore-css .content-left-side #lsp-block-tree,
#header #lsp-block-tree-header--burger{
  border-radius: 0 0 15px 15px;
  margin: 0 0 0 0;
  background: $lessGrayColor;
  ul{
    min-height: 0;
  }
}

#lsp-block-tree li,
#lsp-block-tree-header--burger li{
  position: relative;
  margin: 0;
  cursor: pointer;
  border-top: 1px solid #ededed;
  a{
    position: relative;
    padding: 18px 40px 13px 30px;
    width: 100%;

    &.child-selected ~ span.icon,
    &.selected ~ span.icon{
      background-color: $mainColor;
      &::after{
        top: 0;
        bottom: 2px;
        transform: rotate(-90deg);
        background-image: url(http://sdobnoe-mesto.ru/bitrix/templates/studiofact_getfood/images/arr_w.png);
      }
    }
  }
  span.open-child{
    background-color: #00ffff;
  }
  span.icon{
    &::after{
      content: "";
      display: block;
      width: 12px;
      height: 12px;
      margin: auto;
      position: absolute;
      top: 2px;
      bottom: 0;
      left: 0;
      right: 0px;
      transform: rotate(90deg);
      background-image: url(http://sdobnoe-mesto.ru/bitrix/templates/studiofact_getfood/images/arr_dark.png);
      background-size: contain;
      background-position: center;
      background-repeat: no-repeat;
      opacity: 0.8;
    }
  }

  ul.lsp-js-menu-childs{
    margin: 0;
    li{
      padding: 0;
      background-color: #ededed;
      border-color: #f6f6f6;
      a{
        width: 100%;
        &:hover{
          text-decoration: underline;
        }
      }
      &:first-child{
        border-color: #ededed;
      }
      ul.lsp-js-menu-childs{
        li{
          background-color: #f5f5f5;
          a{
            font-size: 12px;
            padding: 18px 30px 13px 40px;
          }
        }
      }
    }
  }
  &:before{
    content: '';
  }

}
.main{
  #mobile_menu_list{
    .all-menu{
      border-radius: 0;
    }
    #lsp-block-tree-header--burger{
      margin: 0;
    }
  }
}

#lsp-block-tree li a:hover{
}

#jstore-css .nav-menu a.all-menu:hover,
#mobile_menu_list .nav-menu a.all-menu:hover{
  color: #8e8e8e;
}

// Items list

// Фильтр

#jstore-css #lsp-block-content .jstore-tag.lsp-block-tags-filter{
  display: flex;
  flex-wrap: wrap;
  justify-content: flex-start;
  margin: 0 0 0 0;
  padding: 16px 10px 18px 18px;
  border: 1px solid #efefef;
  background: $whiteColor;
  border-radius: 8px;
}
#jstore-css #lsp-block-content .jstore-tag.lsp-block-tags-filter .lsp-block-tags-filter-item{
  flex: 0 0 155px;
  margin-left: 5px;
}
// Товары
#lsp-block-content .lsp-js-block-items{
  display: flex;
  flex-wrap: wrap;
  justify-content:flex-start;
  margin: 0 -1.5rem 0 -1rem;
}

#jstore-css #lsp-block-content .lsp-js-block-items .lsp-block-item{
  background-color: $whiteColor;
  border: 1px solid #efefef;
  float: none;
  border-radius: 5%;
  display: flex;
  flex: 0 1 auto;
  flex-direction: column;
  align-content: flex-start;
  flex-wrap: wrap;
  width: calc(33% - 2rem);
  height: auto;
  margin: 1rem;
  padding: 0;
  text-align: center;
  transition: all 1s ease;
  &:hover {

  }
  .lsp-block-item-image{
    order: 1;
    align-self: center;
    width: 100%;
    position: relative;
    &:hover{
      .lsp-block-item-image-link{
        &::after{
          opacity: 1;
          transition: opacity .3s;
        }
      }
      &::after{
        opacity: 1;
        transition: opacity .3s;
      }
    }
    &::after{
      opacity: 0;
      content: '';
      color: #ffffff;
      position: absolute;
      padding: 12px 0;
      border: 1px solid #fff;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,.5);
      text-transform: uppercase;
      text-decoration: none;
      font-size: 14px;
      font-weight: 300;
      border-top-right-radius: 5%;
      border-top-left-radius: 5%;
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
      bottom: 0;
      right: 0;
      left: 0;
      top: 0;
      z-index: 1;
      margin: auto;
    }


    .lsp-block-item-image-link{
      background: url("../images/nophoto.png") center center no-repeat;
      background-size: cover;
      border-radius: 5% 5% 0 0;
      display: block;
      width: 100%;
      height: auto;
      min-height: 240px;
      .lsp-block-item-tags{
        z-index: 3;
        //&:hover
        //  display: none;
        //    color: greenyellow;
        //    border: 1px solid greenyellow;
        //    background: greenyellow;
        //}
      }

      &::after{
        opacity: 0;
        background: rgba(0,0,0, .5);
        content: 'Быстрый просмотр';
        color: $whiteColor;
        cursor: pointer;
        position: absolute;
        padding: 12px 0;
        border-radius: 20px;
        border: 1px solid #fff;
        width: 174px;
        height: 40px;
        text-transform: uppercase;
        text-decoration: none;
        font-size: 14px;
        font-weight: 300;
        bottom: 0;
        right: 0;
        left: 0;
        top: 0;
        z-index: 2;
        margin: auto;
      }
      &:hover{
        &::after{
          color: $whiteColor;
          border: 1px solid $mainColor;
          background: $mainColor;
        }
      }

      img{
        object-fit: cover;
        border-radius: 5% 5% 0 0;
        max-width: none;
        width: 100%;
        min-height: 240px;
      }
    }

  }
  .lsp-block-item-name{
    order: 2;
    height: auto;
    align-items: center;
    align-content: center;
    display: flex;
    flex-wrap: wrap;
    flex-grow: 1;
    margin: 0;
    padding: 24px 15px 0;
    text-align: left;

    a{
      font-family: $secondFont;
      color: rgba(51, 51, 51, 0.8);
      text-decoration: none;
      white-space: normal;
      padding: 0 0 0 0;
      font-size: 18px;
      word-break: break-word;
      font-weight: 300;
      line-height: 1.3;
      letter-spacing: 0.36px;
    }
  }
  .lsp-block-item-description{
    width: 100%;
    order: 4;
    margin: 5px 0 5px 0;
    padding: 0 15px;
    height: auto;
    flex-grow: 1;
    text-align: justify;
    font-family: $textFont;
    font-weight: 400;
    font-style: normal;
    line-height: 1.4;
    letter-spacing: 1.2px;
    max-height: 90px;
    word-wrap: break-word;
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 5;
    -webkit-box-orient: vertical;
    position: relative;
    p{
      padding-top: 15px;
    }
  }
  .lsp-block-item-price{
    position: static;
    display: flex;
    align-self: flex-start;
    padding: 0 0 0 15px;
    flex-grow: 0;
    justify-content: center;
    min-height: 37px;
    margin: 1rem 0 1rem 0;
    flex-wrap: wrap;
    align-items: center;
    font-size: 18px;
    font-weight: 900;
    order: 5;

    span,
    .lsp-block-item-measurement{
      font-family: $secondFont;
      font-size: 18px;
      font-weight: 900;
      padding-left: 3px;
    }
  }
  .lsp-block-item-add-to-cart{
    //background: url("http://sdobnoe-mesto.ru/bitrix/templates/studiofact_getfood/images/sprite.png");
    background: none;
    order: 5;
    position: absolute;
    right: 10px;
    bottom: 6px;
    font-size: 0;
    display: flex;
    align-items: center;
    width: 56px;
    height: 56px;
    vertical-align: middle;
    text-align: center;
    border-radius: 50%;
    &:hover{
      background-color: $mainColor;
      &::after{
        background-position: -69px 758px;
      }
    }
    &::after{
      content: '';
      width: 24px;
      height: 26px;
      display: block;
      background: url(http://sdobnoe-mesto.ru/bitrix/templates/studiofact_getfood/images/sprite.png);
      background-position: -9px 758px;
    }
  }
}
